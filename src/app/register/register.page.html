<ion-header>
  <ion-toolbar>
    <ion-title>Registro</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card>
    <ion-card-header>
      <ion-card-title>Regístrate en TransportesYA</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <form (submit)="registrarUsuario($event)">
        <!-- Selección de rol -->
        <ion-item>
          <ion-label>Rol</ion-label>
          <ion-select [(ngModel)]="rolSeleccionado" placeholder="Selecciona un rol" name="rol">
            <ion-select-option value="cliente">Cliente</ion-select-option>
            <ion-select-option value="chofer">Chofer</ion-select-option>
          </ion-select>
        </ion-item>

        <!-- Campos comunes -->
        <ion-item>
          <ion-label>Nombre completo</ion-label>
          <ion-input type="text" [(ngModel)]="nombre" name="nombre" required></ion-input>
        </ion-item>
        <ion-item>
          <ion-label>Correo electrónico</ion-label>
          <ion-input type="email" [(ngModel)]="correo" name="correo" required></ion-input>
        </ion-item>
        <ion-item>
          <ion-label>Clave</ion-label>
          <ion-input type="password" [(ngModel)]="clave" name="clave" required></ion-input>
        </ion-item>

        <!-- Campos específicos para Cliente -->
        <div *ngIf="rolSeleccionado === 'cliente'">
          <ion-item>
            <ion-label>Dirección</ion-label>
            <ion-input type="text" [(ngModel)]="direccion" name="direccion" required></ion-input>
          </ion-item>
          <ion-item>
            <ion-label>País</ion-label>
            <ion-input type="text" [(ngModel)]="pais" name="pais" required></ion-input>
          </ion-item>
          <ion-item>
            <ion-label>Región</ion-label>
            <ion-input type="text" [(ngModel)]="region" name="region" required></ion-input>
          </ion-item>
        </div>

        <!-- Campos específicos para Chofer -->
        <div *ngIf="rolSeleccionado === 'chofer'">
          <ion-item>
            <ion-label>Tipo de camión</ion-label>
            <ion-select [(ngModel)]="tipoCamion" name="tipoCamion" required>
              <ion-select-option value="S">S</ion-select-option>
              <ion-select-option value="M">M</ion-select-option>
              <ion-select-option value="L">L</ion-select-option>
              <ion-select-option value="XL">XL</ion-select-option>
            </ion-select>
          </ion-item>
          <ion-item>
            <ion-label>Patente</ion-label>
            <ion-input type="text" [(ngModel)]="patente" name="patente" required></ion-input>
          </ion-item>
          <ion-item>
            <ion-label>Modelo del camión</ion-label>
            <ion-input type="text" [(ngModel)]="modeloCamion" name="modeloCamion" required></ion-input>
          </ion-item>
          <ion-item>
            <ion-label>Año</ion-label>
            <ion-input type="number" [(ngModel)]="anioCamion" name="anioCamion" required></ion-input>
          </ion-item>
          <ion-item>
            <ion-label>Región</ion-label>
            <ion-input type="text" [(ngModel)]="region" name="region" required></ion-input>
          </ion-item>
          <ion-item>
            <ion-label>Dirección</ion-label>
            <ion-input type="text" [(ngModel)]="direccion" name="direccion" required></ion-input>
          </ion-item>
          <ion-item>
            <ion-label>País</ion-label>
            <ion-input type="text" [(ngModel)]="pais" name="pais" required></ion-input>
          </ion-item>
        </div>

        <ion-button type="submit" expand="block">Registrar</ion-button>
      </form>
    </ion-card-content>
  </ion-card>
</ion-content>
